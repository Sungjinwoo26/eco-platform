<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EcoTrack - Real-Time Environmental Monitoring</title>
    <link rel="icon" type="image/png" href="assets/images/favcon.png">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
     integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
     crossorigin=""/>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>

   <header>
    <nav>
        <a href="index.html" class="logo">EcoTrack üåç</a>
        <ul class="nav-links">
            <li class="active"><a href="index.html">Home</a></li>
            <li><a href="ranking.html">Rankings</a></li>
            <li><a href="education.html">Learn</a></li>
            <li><a href="quiz.html">Find Your Eco-Type</a></li>
            <li><a href="marketplace.html">Marketplace</a></li>
        </ul>
        <div class="header-actions">
            <div class="cart-container">
                <button id="cart-button" class="cart-button">üõí</button>
                <span id="cart-count">0</span>
            </div>
            <button class="hamburger" id="hamburger-button">
                <span class="hamburger-box">
                    <span class="hamburger-inner"></span>
                </span>
            </button>
        </div>
    </nav>
</header>
    
    <div id="cart-modal" class="cart-modal">
        <div class="cart-modal-content">
            <span class="close-button">&times;</span>
            <h2>Your Cart</h2>
            <div id="cart-items">
                <p>Your cart is empty.</p>
            </div>
            <div class="cart-footer">
                <h3>Total: <span id="cart-total">‚Çπ0</span></h3>
                <button id="buy-now-btn" class="buy-now-btn">Buy Now</button>
            </div>
        </div>
    </div>

    <main>
        <section class="hero-section">
            <div class="hero-content">
                <h1>Monitor Our Planet's Health, In Real-Time</h1>
                <p>Enter a city to check its Air Quality Index (AQI)</p>
                <div class="search-container">
                    <input type="text" id="citySearch" placeholder="E.g., Mumbai, New York, Tokyo...">
                    <button id="searchBtn">Search</button>
                </div>
            </div>
            
            <div class="hero-background-static"></div>
            <div class="spline-container">
                 <script type="module" src="https://unpkg.com/@splinetool/viewer@1.10.42/build/spline-viewer.js"></script>
                <spline-viewer loading-anim-type="spinner" url="https://prod.spline.design/Gs6mE02t5V82S3wp/scene.splinecode"></spline-viewer>
            </div>
        </section>

        <section class="map-section">
            <h2>Global Environmental Data Map</h2>
            <div id="loader" class="loader">Loading Map Data...</div>
            <div id="map"></div>
            <div class="map-legend anim-fade-in">
                <h3>AQI Legend</h3>
                <div class="legend-item"><span class="legend-color" style="background-color: #28a745;"></span> 0-50: Good</div>
                <div class="legend-item"><span class="legend-color" style="background-color: #ffc107;"></span> 51-100: Moderate</div>
                <div class="legend-item"><span class="legend-color" style="background-color: #fd7e14;"></span> 101-150: Unhealthy (Sensitive)</div>
                <div class="legend-item"><span class="legend-color" style="background-color: #dc3545;"></span> 151-200: Unhealthy</div>
                <div class="legend-item"><span class="legend-color" style="background-color: #6f42c1;"></span> 201-300: Very Unhealthy</div>
                <div class="legend-item"><span class="legend-color" style="background-color: #781c45;"></span> 301+: Hazardous</div>
            </div>
        </section>
        
    </main>

    <div id="simulator-panel">
        <button id="simulator-toggle-btn" class="simulator-toggle-btn">&times;</button>
        <div class="simulator-header">
            <h2>What If Simulator üå±</h2>
        </div>
        <div class="simulator-content">
            <p>Simulate environmental actions in Mumbai to see their potential impact.</p>
            
            <div class="sim-control">
                <label for="tree-slider">üå≥ Plant Trees</label>
                <input type="range" id="tree-slider" name="tree-slider" min="0" max="100000" step="1000" value="0">
                <span id="tree-slider-value">0 trees</span>
            </div>
            
            <div class="sim-control">
                <label for="plastic-slider">‚ôªÔ∏è Reduce Plastic Waste</label>
                <input type="range" id="plastic-slider" name="plastic-slider" min="0" max="100" step="1" value="0">
                <span id="plastic-slider-value">0%</span>
            </div>

            <div class="sim-control">
                <label for="solar-slider">‚òÄÔ∏è Adopt Household Solar</label>
                <input type="range" id="solar-slider" name="solar-slider" min="0" max="100" step="1" value="0">
                <span id="solar-slider-value">0%</span>
            </div>

        </div>
        <div class="simulator-footer">
            <button id="apply-changes-btn">Apply Changes</button>
            <div id="simulation-results">
                <p>Adjust the sliders to see the projected impact.</p>
            </div>
        </div>
    </div>

    <button id="mobile-launch-sim-btn">Launch Simulator</button>

    <footer>
        <p>&copy; 2025 EcoTrack. All Rights Reserved.</p>
    </footer>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
     integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
     crossorigin=""></script>
    <script src="js/main.js"></script>
    <script src="js/nav.js"></script>
    <script src="js/cart.js"></script>

</body>
</html>